{% extends "panel_layout.html" %}
{% block content %}

<div class="grid">
    <div class="card">
        <div class="card-h">
            <div>
                <h1>Productos</h1>
                <div class="muted">Crea y administra el catÃ¡logo.</div>
            </div>
            <span class="pill">{{ productos|length }} productos</span>
        </div>

        <div class="card-b">
            <form action="/panel/productos/crear" method="post">
                <input type="hidden" name="csrf_token" value="{{ request.session.get('csrf_token') }}">
                <div class="row">
                    <div class="field" style="min-width:240px">
                        <label>Nombre</label>
                        <input name="nombre" placeholder="Ej: Tierra de hoja 20L" required>
                    </div>

                    <div class="field" style="min-width:180px">
                        <label>SKU (opcional)</label>
                        <input name="sku" placeholder="Ej: TH-20L">
                    </div>

                    <div class="field" style="min-width:160px">
                        <label>Precio</label>
                        <input name="precio" placeholder="Ej: 3990" type="number" step="0.01">
                    </div>

                    <div class="field" style="min-width:260px; flex:1">
                        <label>DescripciÃ³n (opcional)</label>
                        <input name="descripcion" placeholder="Ej: Sustrato premium...">
                    </div>

                    <button class="btn" type="submit">âž• Crear producto</button>
                </div>
            </form>

            <div style="height:14px"></div>

            <table class="table">
                <thead>
                    <tr>
                        <th style="width:70px">ID</th>
                        <th>Nombre</th>
                        <th style="width:160px">SKU</th>
                        <th style="width:140px">Precio</th>
                    </tr>
                </thead>
                <tbody>
                    {% for p in productos %}
                    <tr>
                        <td class="muted">{{ p.id }}</td>
                        <td><strong>{{ p.nombre }}</strong></td>
                        <td class="muted">{{ p.sku or "-" }}</td>
                        <td>${{ "%.0f"|format(p.precio or 0) }}</td>
                    </tr>
                    {% endfor %}

                    {% if productos|length == 0 %}
                    <tr>
                        <td colspan="4" class="muted">AÃºn no hay productos. Crea el primero arriba ðŸ‘†</td>
                    </tr>
                    {% endif %}
                </tbody>
            </table>

            <div style="height:12px"></div>
            <div class="muted small">Tip: si no pones SKU, se genera automÃ¡ticamente.</div>
        </div>
    </div>
</div>

{% endblock %}